{% extends 'main.html' %}

{% block form_agregar %}
    {{ form.errors }}
    <p><strong>Nombre del proyecto:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Nombre del proyecto de investigación.">
            <i class="fa fa-question-circle"></i>
        </a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-pencil-square-o"></i>
            </div>
            {{ form.nombre }}
        </div>
    </div>
    </p>
    <p><strong>Descripción: <a href="#" data-toggle="tooltip" data-placement="right"
                               title="Descripción detallada adicional, por ejemplo información que no está contemplada en los demás campos.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.descripcion }}
    </p>
    <p><strong>Es permanente: </strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="¿El proyecto es permanente?">
            <i class="fa fa-question-circle"></i>
        </a>
        {{ form.es_permanente }}
    </p>
    <p><strong>Fecha inicio:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Fecha de inicio del proyecto."><i
                class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
            </div>
            {{ form.fecha_inicio }}
        </div>
    </div>
    </p>
    <p><strong>Fecha fin:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Fecha de finalización del proyecto. Este campo puede ir vacío si el proyecto es permanente, o si no
           hay una fecha definida, en cuyo caso se asume que el proyecto es de tiempo indefinido o permanente, en caso
           contrario especificar la fecha de fin. Si la fecha de finalización es en el futuro pero se tiene establecida, especificarla."><i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
            </div>
            {{ form.fecha_fin }}
        </div>
    </div>
    </p>
    <p><strong>Institución:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Institución que involucrada.">
            <i class="fa fa-question-circle"></i>
        </a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.institucion }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales al nombre de la institución.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/instituciones" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una institución nueva. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Dependencia:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Dependencia que involucrada, las opciones
                                              disponibles están en función de la institución seleccionada en el campo
                                              anterior. Si no se selecciona una institución, se enlistan todas las
                                              dependencias pero no se puede saber a cual institución pertenecen. En caso de no existir una dependencia hija de una institución, es necesario que exista entonces una dependencia con el mismo nombre que la institución y que pertenezca a ella.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.dependencia }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales al nombre de la dependencia.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/dependencias" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una dependencia nueva. Cuando no existe en los registros aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Responsables:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Responsables del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.responsables }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los autores.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un responsable nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Participantes en el proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.participantes }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los autores.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un autor nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Status:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Status del proyecto."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.status }}
        </div>
    </div>
    </p>
    <p><strong>Clasificación:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Clasificación del proyecto."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.clasificacion }}
        </div>
    </div>
    </p>
    <p><strong>Organización:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Organización del proyecto."><i
                class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.organizacion }}
        </div>
    </div>
    </p>
    <p><strong>Modalidad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Modalidad del proyecto."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.modalidad }}
        </div>
    </div>
    </p>
    <p><strong>Tiene temática de género: </strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="¿El proyecto tiene temática de género?"><i class="fa fa-question-circle"></i></a>
        {{ form.tematica_genero }}
    </p>
    <p><strong>Problemas nacionales CONACYT:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Problemas Nacionales CONACYT que atiende este proyecto.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.problemas_nacionales_conacyt }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de Problemas Nacionales CONACYT.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <div id="d_otro_problema_nacional_conacyt">
        <p><strong>Otro problema nacional CONACYT:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Detalles de como este proyecto resuelve otro problema nacional conacyt.">
                <i class="fa fa-question-circle"></i></a>
            {{ form.otro_problema_nacional_conacyt }}
        </p>
    </div>
    <p><strong>Tipo de fincanciamiento:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Tipo de financiamento."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.tipo_financiamiento }}
        </div>
    </div>
    </p>
    <p><strong>Financiamientos:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Financiamientos participantes en el desarrollo del proyecto, al escribir el inicio del nombre se filtran
                            los resultados que coincidan con la busqueda. Los financiamientos aqui enlistados pueden ser cualquiera que no sean CONACYT, PAPIIT o PAPIME. Para estos casos se deben emplear los campos siguientes, escribiendo en el caso correspondiente la clave del proyecto. Se entiende que si una clave está ingresada, el proyecto tiene ese finaciamiento con esa clave. No hay necesidad de ser explicito a que tiene un financiamiento y su clave, al tener la clave de uno se asume que cuenta con ese financiamiento del cual tiene la clave.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-money"></i></div>
            {{ form.financiamientos }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los financiamientos.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/financiamientos" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un financiamiento nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <div id="d_financiamiento_conacyt">
        <p><strong>Clave de financiamiento CONACYT:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Clave de proyecto de financiamiento CONACYT, llenar el campo únicamente si se cuenta con dicho financiamiento.">
                <i class="fa fa-question-circle"></i>
            </a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                {{ form.financiamiento_conacyt }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_papiit">
        <p><strong>Clave de financiamiento PAPIIT:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Clave de proyecto de financiamiento PAPIIT, llenar el campo únicamente si se cuenta con dicho financiamiento.">
                <i class="fa fa-question-circle"></i>
            </a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                {{ form.financiamiento_papiit }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_papime">
        <p><strong>Clave de financiamiento PAPIME:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Clave de proyecto de financiamiento PAPIME, llenar el campo únicamente si se cuenta con dicho financiamiento.">
                <i class="fa fa-question-circle"></i>
            </a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                {{ form.financiamiento_papime }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_extraordinario">
        <p><strong>Dependencia que proporciona financiamiento extraordinario:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Dependencia que proporciona financiamiento extraordinario.">
                <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
                {{ form.dependencia }}
                <div class="input-group-addon">
                    <a href="#" data-toggle="tooltip" data-placement="left"
                       title="Mostrar los detalles adicionales al nombre de la dependencia.">
                        <i class="fa fa-eye"></i>
                    </a>
                </div>
                <div class="input-group-addon">
                    <a href="/nucleo/dependencias" data-toggle="tooltip" data-placement="left" target="_blank"
                       title="Agregar una dependencia nueva. Cuando no existe en los registros aquí se puede dar de alta.">
                        <i class="fa fa-plus"></i>
                    </a>
                </div>
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_sin_recurso_ciga">
        <p><strong>Dependencia que proporciona financiamiento:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Dependencia que proporciona financiamiento.">
                <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
                {{ form.dependencia }}
                <div class="input-group-addon">
                    <a href="#" data-toggle="tooltip" data-placement="left"
                       title="Mostrar los detalles adicionales al nombre de la dependencia.">
                        <i class="fa fa-eye"></i>
                    </a>
                </div>
                <div class="input-group-addon">
                    <a href="/nucleo/dependencias" data-toggle="tooltip" data-placement="left" target="_blank"
                       title="Agregar una dependencia nueva. Cuando no existe en los registros aquí se puede dar de alta.">
                        <i class="fa fa-plus"></i>
                    </a>
                </div>
            </div>
        </div>
        </p>
    </div>
    <p><strong>Metodologias:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Metodologias utilizadas en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-sliders"></i></div>
            {{ form.metodologias }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de las metodologías.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/metodologias" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una metodología nueva. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Áreas de especialidad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Especialidades involucradas en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-flask"></i></div>
            {{ form.especialidades }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de las especialidades.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/areas-especialidad" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una especialidad nueva. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Impactos sociales:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Impactos sociales derivados del desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-line-chart"></i></div>
            {{ form.impactos_sociales }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los impactos sociales.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/impactos-sociales" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una impacto social nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Técnicos participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Técnicos participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.tecnicos }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los técnicos participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un técnico nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Alumnos de doctorado participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Alumnos de doctorado participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-graduation-cap"></i></div>
            {{ form.alumnos_doctorado }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los alumnos de doctorado participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un alumno nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Alumnos de maestría participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Alumnos de maestría participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-graduation-cap"></i></div>
            {{ form.alumnos_maestria }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los alumnos de maestria participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un alumno nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Alumnos de licenciatura participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Alumnos de licenciatura participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-graduation-cap"></i></div>
            {{ form.alumnos_maestria }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los alumnos de licenciatura participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un alumno nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>

    <script>

        $("#d_otro_problema_nacional_conacyt").hide();

        $("#id_problemas_nacionales_conacyt").on('change', function () {
            console.log($("#id_problemas_nacionales_conacyt").val());
            if ($("#id_problemas_nacionales_conacyt").val()) {
                if ($("#id_problemas_nacionales_conacyt").val().includes("1")) {
                    $("#d_otro_problema_nacional_conacyt").show("slow");
                } else {
                    $("#d_otro_problema_nacional_conacyt").hide("slow");
                    $("#id_otro_problema_nacional_conacyt").val("");
                }
            } else {
                $("#d_otro_problema_nacional_conacyt").hide("slow");
                $("#id_otro_problema_nacional_conacyt").val("");
            }
        });
        
        $("#id_tipo_financiamiento").on('change', function () {
            if ($("#id_tipo_financiamiento")) {

            }
        });
        
        /*
        $("#id_financiamientos").on('change', function () {

            if ($("#id_financiamientos").val()) {
                console.log($("#id_financiamientos").val())
                $("#id_financiamiento_papiit").prop("value", '');
                $("#id_financiamiento_papiit").prop("disabled", true);
                $("#id_financiamiento_papime").prop("value", '');
                $("#id_financiamiento_papime").prop("disabled", true);
                $("#id_financiamiento_conacyt").prop("value", '');
                $("#id_financiamiento_conacyt").prop("disabled", true);
            } else {
                $("#id_financiamientos").on('change', function () {
                    if (!($("#id_financiamientos").val())) {
                        $("#id_financiamiento_papiit").prop("disabled", false);
                        $("#id_financiamiento_papime").prop("disabled", false);
                        $("#id_financiamiento_conacyt").prop("disabled", false);
                    }
                })
            }
        }); */

        $("#id_financiamiento_conacyt").on('change', function () {
            if ($("#id_financiamiento_conacyt").val() != '') {
                $("#id_financiamiento_papiit").prop("value", '');
                $("#id_financiamiento_papiit").prop("disabled", true);
                $("#id_financiamiento_papime").prop("value", '');
                $("#id_financiamiento_papime").prop("disabled", true);
                $("#id_financiamientos").val(null).trigger('change');
                $("#id_financiamientos").prop("disabled", true);
            } else if ($("#id_financiamiento_conacyt").val() == '') {
                $("#id_financiamiento_papiit").prop("disabled", false);
                $("#id_financiamiento_papime").prop("disabled", false);
                $("#id_financiamientos").prop("disabled", false);
            }
        });

        $("#id_financiamiento_papiit").on('change', function () {
            if ($("#id_financiamiento_papiit").val() != '') {
                $("#id_financiamiento_conacyt").prop("value", '');
                $("#id_financiamiento_conacyt").prop("disabled", true);
                $("#id_financiamiento_papime").prop("value", '');
                $("#id_financiamiento_papime").prop("disabled", true);
                $("#id_financiamientos").val(null).trigger('change');
                $("#id_financiamientos").prop("disabled", true);
            } else if ($("#id_financiamiento_papiit").val() == '') {
                $("#id_financiamiento_conacyt").prop("disabled", false);
                $("#id_financiamiento_papime").prop("disabled", false);
                $("#id_financiamientos").prop("disabled", false);
            }
        });

        $("#id_financiamiento_papime").on('change', function () {
            if ($("#id_financiamiento_papime").val()) {
                $("#id_financiamiento_conacyt").prop("value", null);
                $("#id_financiamiento_conacyt").prop("disabled", true);
                $("#id_financiamiento_papiit").prop("value", null);
                $("#id_financiamiento_papiit").prop("disabled", true);
                $("#id_financiamientos").val(null).trigger('change');
                $("#id_financiamientos").prop("disabled", true);
            } else if ($("#id_financiamiento_papime").val() == '') {
                $("#id_financiamiento_conacyt").prop("disabled", false);
                $("#id_financiamiento_papime").prop("disabled", false);
                $("#id_financiamiento_papiit").prop("disabled", false);
                $("#id_financiamientos").prop("disabled", false);
            }
        });
    </script>

    <script>
        $("#id_responsables").on("select2:select", function (evt) {
            var element = evt.params.data.element;
            var $element = $(element);
            $element.detach();
            $(this).append($element);
            $(this).trigger("change");
        });
    </script>

{% endblock %}

{% block form_detalle %}
    {{ form.errors }}
    <p><strong>Nombre del proyecto:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Nombre del proyecto de investigación.">
            <i class="fa fa-question-circle"></i>
        </a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-pencil-square-o"></i>
            </div>
            {{ form.nombre }}
        </div>
    </div>
    </p>
    <p><strong>Descripción: <a href="#" data-toggle="tooltip" data-placement="right"
                               title="Descripción detallada adicional, por ejemplo información que no está contemplada en los demás campos.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.descripcion }}
    </p>
    <p><strong>Es permanente: </strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="¿El proyecto es permanente?">
            <i class="fa fa-question-circle"></i>
        </a>
        {{ form.es_permanente }}
    </p>
    <p><strong>Fecha inicio:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Fecha de inicio del proyecto."><i
                class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
            </div>
            {{ form.fecha_inicio }}
        </div>
    </div>
    </p>
    <p><strong>Fecha fin:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Fecha de finalización del proyecto. Este campo puede ir vacío si el proyecto es permanente, o si no
           hay una fecha definida, en cuyo caso se asume que el proyecto es de tiempo indefinido o permanente, en caso
           contrario especificar la fecha de fin. Si la fecha de finalización es en el futuro pero se tiene establecida, especificarla."><i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
            </div>
            {{ form.fecha_fin }}
        </div>
    </div>
    </p>
    <p><strong>Institución:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Institución que involucrada.">
            <i class="fa fa-question-circle"></i>
        </a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.institucion }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales al nombre de la institución.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/instituciones" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una institución nueva. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Dependencia:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Dependencia que involucrada, las opciones
                                              disponibles están en función de la institución seleccionada en el campo
                                              anterior. Si no se selecciona una institución, se enlistan todas las
                                              dependencias pero no se puede saber a cual institución pertenecen. En caso de no existir una dependencia hija de una institución, es necesario que exista entonces una dependencia con el mismo nombre que la institución y que pertenezca a ella.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.dependencia }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales al nombre de la dependencia.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/dependencias" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una dependencia nueva. Cuando no existe en los registros aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Responsables:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Responsables del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.responsables }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los autores.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un responsable nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Participantes en el proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.participantes }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los autores.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un autor nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Status:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Status del proyecto."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.status }}
        </div>
    </div>
    </p>
    <p><strong>Clasificación:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Clasificación del proyecto."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.clasificacion }}
        </div>
    </div>
    </p>
    <p><strong>Organización:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Organización del proyecto."><i
                class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.organizacion }}
        </div>
    </div>
    </p>
    <p><strong>Modalidad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Modalidad del proyecto."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.modalidad }}
        </div>
    </div>
    </p>
    <p><strong>Tiene temática de género: </strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="¿El proyecto tiene temática de género?"><i class="fa fa-question-circle"></i></a>
        {{ form.tematica_genero }}
    </p>
    <p><strong>Problemas nacionales CONACYT:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Problemas Nacionales CONACYT que atiende este proyecto.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.problemas_nacionales_conacyt }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de Problemas Nacionales CONACYT.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <div id="d_otro_problema_nacional_conacyt">
        <p><strong>Otro problema nacional CONACYT:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Detalles de como este proyecto resuelve otro problema nacional conacyt.">
                <i class="fa fa-question-circle"></i></a>
            {{ form.otro_problema_nacional_conacyt }}
        </p>
    </div>
    <p><strong>Tipo de fincanciamiento:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Tipo de financiamento."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.tipo_financiamiento }}
        </div>
    </div>
    </p>
    <p><strong>Financiamientos:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Financiamientos participantes en el desarrollo del proyecto, al escribir el inicio del nombre se filtran
                            los resultados que coincidan con la busqueda. Los financiamientos aqui enlistados pueden ser cualquiera que no sean CONACYT, PAPIIT o PAPIME. Para estos casos se deben emplear los campos siguientes, escribiendo en el caso correspondiente la clave del proyecto. Se entiende que si una clave está ingresada, el proyecto tiene ese finaciamiento con esa clave. No hay necesidad de ser explicito a que tiene un financiamiento y su clave, al tener la clave de uno se asume que cuenta con ese financiamiento del cual tiene la clave.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-money"></i></div>
            {{ form.financiamientos }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los financiamientos.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/financiamientos" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un financiamiento nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <div id="d_financiamiento_conacyt">
        <p><strong>Clave de financiamiento CONACYT:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Clave de proyecto de financiamiento CONACYT, llenar el campo únicamente si se cuenta con dicho financiamiento.">
                <i class="fa fa-question-circle"></i>
            </a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                {{ form.financiamiento_conacyt }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_papiit">
        <p><strong>Clave de financiamiento PAPIIT:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Clave de proyecto de financiamiento PAPIIT, llenar el campo únicamente si se cuenta con dicho financiamiento.">
                <i class="fa fa-question-circle"></i>
            </a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                {{ form.financiamiento_papiit }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_papime">
        <p><strong>Clave de financiamiento PAPIME:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Clave de proyecto de financiamiento PAPIME, llenar el campo únicamente si se cuenta con dicho financiamiento.">
                <i class="fa fa-question-circle"></i>
            </a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                {{ form.financiamiento_papime }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_extraordinario">
        <p><strong>Dependencia que proporciona financiamiento extraordinario:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Dependencia que proporciona financiamiento extraordinario.">
                <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
                {{ form.dependencia }}
                <div class="input-group-addon">
                    <a href="#" data-toggle="tooltip" data-placement="left"
                       title="Mostrar los detalles adicionales al nombre de la dependencia.">
                        <i class="fa fa-eye"></i>
                    </a>
                </div>
                <div class="input-group-addon">
                    <a href="/nucleo/dependencias" data-toggle="tooltip" data-placement="left" target="_blank"
                       title="Agregar una dependencia nueva. Cuando no existe en los registros aquí se puede dar de alta.">
                        <i class="fa fa-plus"></i>
                    </a>
                </div>
            </div>
        </div>
        </p>
    </div>
    <div id="d_financiamiento_sin_recurso_ciga">
        <p><strong>Dependencia que proporciona financiamiento:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Dependencia que proporciona financiamiento.">
                <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
                {{ form.dependencia }}
                <div class="input-group-addon">
                    <a href="#" data-toggle="tooltip" data-placement="left"
                       title="Mostrar los detalles adicionales al nombre de la dependencia.">
                        <i class="fa fa-eye"></i>
                    </a>
                </div>
                <div class="input-group-addon">
                    <a href="/nucleo/dependencias" data-toggle="tooltip" data-placement="left" target="_blank"
                       title="Agregar una dependencia nueva. Cuando no existe en los registros aquí se puede dar de alta.">
                        <i class="fa fa-plus"></i>
                    </a>
                </div>
            </div>
        </div>
        </p>
    </div>
    <p><strong>Metodologias:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Metodologias utilizadas en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-sliders"></i></div>
            {{ form.metodologias }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de las metodologías.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/metodologias" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una metodología nueva. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Áreas de especialidad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Especialidades involucradas en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-flask"></i></div>
            {{ form.especialidades }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de las especialidades.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/areas-especialidad" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una especialidad nueva. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Impactos sociales:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Impactos sociales derivados del desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-line-chart"></i></div>
            {{ form.impactos_sociales }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los impactos sociales.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/impactos-sociales" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar una impacto social nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Técnicos participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Técnicos participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.tecnicos }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los técnicos participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un técnico nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Alumnos de doctorado participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Alumnos de doctorado participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-graduation-cap"></i></div>
            {{ form.alumnos_doctorado }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los alumnos de doctorado participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un alumno nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Alumnos de maestría participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Alumnos de maestría participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-graduation-cap"></i></div>
            {{ form.alumnos_maestria }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los alumnos de maestria participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un alumno nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Alumnos de licenciatura participantes:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Alumnos de licenciatura participantes en el desarrollo del proyecto, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-graduation-cap"></i></div>
            {{ form.alumnos_maestria }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los alumnos de licenciatura participantes.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un alumno nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>

    <script>

        $("#d_otro_problema_nacional_conacyt").hide();

        if ($("#id_problemas_nacionales_conacyt").val()) {
                if ($("#id_problemas_nacionales_conacyt").val().includes("1")) {
                    $("#d_otro_problema_nacional_conacyt").show();
                }
            }

        $("#id_problemas_nacionales_conacyt").on('change', function () {
            console.log($("#id_problemas_nacionales_conacyt").val());
            if ($("#id_problemas_nacionales_conacyt").val()) {
                if ($("#id_problemas_nacionales_conacyt").val().includes("1")) {
                    $("#d_otro_problema_nacional_conacyt").show("slow");
                } else {
                    $("#d_otro_problema_nacional_conacyt").hide("slow");
                    $("#id_otro_problema_nacional_conacyt").val("");
                }
            } else {
                $("#d_otro_problema_nacional_conacyt").hide("slow");
                $("#id_otro_problema_nacional_conacyt").val("");
            }
        });

        if ($("#id_financiamiento_conacyt").val() != '') {
            $("#id_financiamiento_papiit").prop("value", '');
            $("#id_financiamiento_papiit").prop("disabled", true);
            $("#id_financiamiento_papime").prop("value", '');
            $("#id_financiamiento_papime").prop("disabled", true);
            $("#id_financiamientos").prop("value", '');
            $("#id_financiamientos").prop("disabled", true);
            $("#id_financiamientos").prop("disabled", true);
        }

        if ($("#id_financiamiento_papiit").val() != '') {
            $("#id_financiamiento_conacyt").prop("value", '');
            $("#id_financiamiento_conacyt").prop("disabled", true);
            $("#id_financiamiento_papime").prop("value", '');
            $("#id_financiamiento_papime").prop("disabled", true);
            $("#id_financiamientos").prop("value", '');
            $("#id_financiamientos").prop("disabled", true);
            $("#id_financiamientos").prop("disabled", true);
        }

        if ($("#id_financiamiento_papime").val() != '') {
            $("#id_financiamiento_conacyt").prop("value", '');
            $("#id_financiamiento_conacyt").prop("disabled", true);
            $("#id_financiamiento_papiit").prop("value", '');
            $("#id_financiamiento_papiit").prop("disabled", true);
            $("#id_financiamientos").prop("value", '');
            $("#id_financiamientos").prop("disabled", true);
            $("#id_financiamientos").prop("disabled", true);
        }

        if ($("#id_financiamientos").val()) {
            $("#id_financiamiento_conacyt").prop("value", '');
            $("#id_financiamiento_conacyt").prop("disabled", true);
            $("#id_financiamiento_papiit").prop("value", '');
            $("#id_financiamiento_papiit").prop("disabled", true);
            $("#id_financiamiento_papime").prop("value", '');
            $("#id_financiamiento_papime").prop("disabled", true);
        }

        $("#id_financiamientos").on('change', function () {

            if ($("#id_financiamientos").val()) {
                console.log($("#id_financiamientos").val())
                $("#id_financiamiento_papiit").prop("value", '');
                $("#id_financiamiento_papiit").prop("disabled", true);
                $("#id_financiamiento_papime").prop("value", '');
                $("#id_financiamiento_papime").prop("disabled", true);
                $("#id_financiamiento_conacyt").prop("value", '');
                $("#id_financiamiento_conacyt").prop("disabled", true);
            } else {
                $("#id_financiamientos").on('change', function () {
                    if (!($("#id_financiamientos").val())) {
                        $("#id_financiamiento_papiit").prop("disabled", false);
                        $("#id_financiamiento_papime").prop("disabled", false);
                        $("#id_financiamiento_conacyt").prop("disabled", false);
                    }
                })
            }
        });

        $("#id_financiamiento_conacyt").on('change', function () {
            if ($("#id_financiamiento_conacyt").val() != '') {
                $("#id_financiamiento_papiit").prop("value", '');
                $("#id_financiamiento_papiit").prop("disabled", true);
                $("#id_financiamiento_papime").prop("value", '');
                $("#id_financiamiento_papime").prop("disabled", true);
                $("#id_financiamientos").val(null).trigger('change');
                $("#id_financiamientos").prop("disabled", true);
            } else if ($("#id_financiamiento_conacyt").val() == '') {
                $("#id_financiamiento_papiit").prop("disabled", false);
                $("#id_financiamiento_papime").prop("disabled", false);
                $("#id_financiamientos").prop("disabled", false);
            }
        });

        $("#id_financiamiento_papiit").on('change', function () {
            if ($("#id_financiamiento_papiit").val() != '') {
                $("#id_financiamiento_conacyt").prop("value", '');
                $("#id_financiamiento_conacyt").prop("disabled", true);
                $("#id_financiamiento_papime").prop("value", '');
                $("#id_financiamiento_papime").prop("disabled", true);
                $("#id_financiamientos").val(null).trigger('change');
                $("#id_financiamientos").prop("disabled", true);
            } else if ($("#id_financiamiento_papiit").val() == '') {
                $("#id_financiamiento_conacyt").prop("disabled", false);
                $("#id_financiamiento_papime").prop("disabled", false);
                $("#id_financiamientos").prop("disabled", false);
            }
        });

        $("#id_financiamiento_papime").on('change', function () {
            if ($("#id_financiamiento_papime").val()) {
                $("#id_financiamiento_conacyt").prop("value", null);
                $("#id_financiamiento_conacyt").prop("disabled", true);
                $("#id_financiamiento_papiit").prop("value", null);
                $("#id_financiamiento_papiit").prop("disabled", true);
                $("#id_financiamientos").val(null).trigger('change');
                $("#id_financiamientos").prop("disabled", true);
            } else if ($("#id_financiamiento_papime").val() == '') {
                $("#id_financiamiento_conacyt").prop("disabled", false);
                $("#id_financiamiento_papime").prop("disabled", false);
                $("#id_financiamiento_papiit").prop("disabled", false);
                $("#id_financiamientos").prop("disabled", false);
            }
        });


    </script>

    <script>
        $("#id_responsables").on("select2:select", function (evt) {
            var element = evt.params.data.element;
            var $element = $(element);

            $element.detach();
            $(this).append($element);
            $(this).trigger("change");
        });
    </script>

{% endblock %}