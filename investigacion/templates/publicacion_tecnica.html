{% extends 'main.html' %}

{% block form_agregar %}
    {{ form.errors }}
    <p><strong>Título del producto o actividad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Título del producto o actividad.">
            <i class="fa fa-question-circle"></i>
        </a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-pencil-square-o"></i>
            </div>
            {{ form.titulo }}
        </div>
    </div>
    </p>
    <p><strong>Tipo de producto o actividad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Tipo de producto o actividad."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.tipo }}
        </div>
    </div>
    </p>
    <p><strong>Descripción: <a href="#" data-toggle="tooltip" data-placement="right"
                               title="Descripción detallada adicional, por ejemplo información que no está contemplada en los demás campos.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.descripcion }}
    </p>
    <p><strong>Status:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Tipo de curso."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.status }}
        </div>
    </div>
    </p>
    <div id="d_fecha_enviado">
        <p><strong>Fecha de enviado:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha en que se envío del artículo."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_enviado }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_fecha_aceptado">
        <p><strong>Fecha de aceptación:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha en que artículo fue aceptado."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_aceptado }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_fecha_enprensa">
        <p><strong>Fecha de envío a prensa:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha en que el artículo es envíado a prensa antes de su publicación."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_enprensa }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_fecha_publicado">
        <p><strong>Fecha de publicación:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha de publicación del artículo."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_publicado }}
            </div>
        </div>
        </p>
    </div>
    <p><strong>Autores como se reportan en el libro: <a href="#" data-toggle="tooltip" data-placement="right"
                                                        title="Autores tal cual se reportan en el libro, en el orden y forma.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.autores_todos }}
    </p>
    <p><strong>Autores:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Autores del informe, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.autores }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los autores.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un autor nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p>
        <strong>Institución:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Institución donde se tuvo el cargo.">
            <i class="fa fa-question-circle"></i></a>
        <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.institucion }}

            <div class="input-group-addon">
                <span id="boton-detalle-institucion">
                    <a data-toggle="tooltip" data-placement="left" style="cursor: pointer;" }
                       title="Mostrar o editar los detalles adicionales de la institución seleccionada. La edición solo se permite cuando el registro es reciente y no está siendo usado por nadie más, y que no haya sido verificado aún por un administrador. Si no se ha seleccionado ningún elemento no se puede mostrar el detalle, pues no se puede obtener el detalle de un elemento vacío.">
                    <i class="fa fa-eye"></i>
                    </a>
                </span>
            </div>

            <div class="input-group-addon">
                <span id="boton-agregar-institucion">
                    <a data-toggle="tooltip" data-placement="left" style="cursor: pointer;" }
                       title="Agregar una institución nueva cuando no existe en los registros.">
                    <i class="fa fa-plus"></i>
                    </a>
                </span>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Proyecto:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Proyecto relacionado con el informe, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-cubes"></i></div>
            {{ form.proyecto }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales del proyecto.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/investigacion/proyectos/" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un proyecto nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>URL de link al informe:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="URL de link al informe, en caso de estar publicado en algún lugar en internet."><i
                class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-link"></i>
            </div>
            {{ form.url }}
        </div>
    </div>
    </p>
    <p><strong>Es público: </strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="¿El informe es de acceso público?."><i class="fa fa-question-circle"></i></a>
        {{ form.es_publico }}</p>
    <p><strong>Cita completa del producto: <a href="#" data-toggle="tooltip" data-placement="right"
                               title="Cita completa del producto.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.descripcion }}
    </p>

    <script>
        var id_autores = $("#id_autores");
        var id_status = $("#id_status");

        var d_fecha_enviado = $("#d_fecha_enviado");
        var d_fecha_aceptado = $("#d_fecha_aceptado");
        var d_fecha_enprensa = $("#d_fecha_enprensa");
        var d_fecha_publicado = $("#d_fecha_publicado");
        var id_fecha_enviado = $("#id_fecha_enviado");
        var id_fecha_aceptado = $('#id_fecha_aceptado');
        var id_fecha_enprensa = $('#id_fecha_enprensa');
        var id_fecha_publicado = $('#id_fecha_publicado');

        d_fecha_enviado.hide();
        d_fecha_aceptado.hide();
        d_fecha_enprensa.hide();
        d_fecha_publicado.hide();

        id_status.on('change', function () {
            if (id_status.val() === 'ENVIADO') {
                d_fecha_enviado.show('slow');
                id_fecha_enviado.attr("required", "true");
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            } else if (id_status.val() === 'ACEPTADO') {
                d_fecha_aceptado.show('slow');
                id_fecha_aceptado.attr("required", "true");
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            } else if (id_status.val() === 'EN_PRENSA') {
                d_fecha_enprensa.show('slow');
                id_fecha_enprensa.attr("required", "true");
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            } else if (id_status.val() === 'PUBLICADO') {
                d_fecha_publicado.show('slow');
                id_fecha_publicado.attr("required", "true");
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
            } else {
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            }
        });


        id_autores.on("select2:select", function (evt) {
            var element = evt.params.data.element;
            var $element = $(element);
            $element.detach();
            $(this).append($element);
            $(this).trigger("change");
        });
    </script>

{% endblock %}

{% block form_detalle %}
    {{ form.errors }}
    <p><strong>Título del producto o actividad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Título del producto o actividad.">
            <i class="fa fa-question-circle"></i>
        </a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-pencil-square-o"></i>
            </div>
            {{ form.titulo }}
        </div>
    </div>
    </p>
    <p><strong>Tipo de producto o actividad:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Tipo de producto o actividad."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.tipo }}
        </div>
    </div>
    </p>
    <p><strong>Descripción: <a href="#" data-toggle="tooltip" data-placement="right"
                               title="Descripción detallada adicional, por ejemplo información que no está contemplada en los demás campos.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.descripcion }}
    </p>
    <p><strong>Status:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Tipo de curso."><i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.status }}
        </div>
    </div>
    </p>
    <div id="d_fecha_enviado">
        <p><strong>Fecha de enviado:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha en que se envío del artículo."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_enviado }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_fecha_aceptado">
        <p><strong>Fecha de aceptación:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha en que artículo fue aceptado."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_aceptado }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_fecha_enprensa">
        <p><strong>Fecha de envío a prensa:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha en que el artículo es envíado a prensa antes de su publicación."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_enprensa }}
            </div>
        </div>
        </p>
    </div>
    <div id="d_fecha_publicado">
        <p><strong>Fecha de publicación:</strong>
            <a href="#" data-toggle="tooltip" data-placement="right"
               title="Fecha de publicación del artículo."><i
                    class="fa fa-question-circle"></i></a>
        <div class="form-group" style="margin-top: -10px;">
            <div class="input-group date">
                <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                </div>
                {{ form.fecha_publicado }}
            </div>
        </div>
        </p>
    </div>
    <p><strong>Autores como se reportan en el libro: <a href="#" data-toggle="tooltip" data-placement="right"
                                                        title="Autores tal cual se reportan en el libro, en el orden y forma.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.autores_todos }}
    </p>
    <p><strong>Autores:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Autores del informe, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-users"></i></div>
            {{ form.autores }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales de los autores.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/nucleo/usuarios" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un autor nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p>
        <strong>Institución:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Institución donde se tuvo el cargo.">
            <i class="fa fa-question-circle"></i></a>
        <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-list-alt"></i></div>
            {{ form.institucion }}

            <div class="input-group-addon">
                <span id="boton-detalle-institucion">
                    <a data-toggle="tooltip" data-placement="left" style="cursor: pointer;" }
                       title="Mostrar o editar los detalles adicionales de la institución seleccionada. La edición solo se permite cuando el registro es reciente y no está siendo usado por nadie más, y que no haya sido verificado aún por un administrador. Si no se ha seleccionado ningún elemento no se puede mostrar el detalle, pues no se puede obtener el detalle de un elemento vacío.">
                    <i class="fa fa-eye"></i>
                    </a>
                </span>
            </div>

            <div class="input-group-addon">
                <span id="boton-agregar-institucion">
                    <a data-toggle="tooltip" data-placement="left" style="cursor: pointer;" }
                       title="Agregar una institución nueva cuando no existe en los registros.">
                    <i class="fa fa-plus"></i>
                    </a>
                </span>
            </div>
        </div>
    </div>
    </p>
    <p><strong>Proyecto:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="Proyecto relacionado con el informe, al escribir el inicio del nombre o apellido se filtran
                            los resultados que coincidan con la busqueda.">
            <i class="fa fa-question-circle"></i></a> <i class="fa fa-edit"></i>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-cubes"></i></div>
            {{ form.proyecto }}
            <div class="input-group-addon">
                <a href="#" data-toggle="tooltip" data-placement="left"
                   title="Mostrar los detalles adicionales del proyecto.">
                    <i class="fa fa-eye"></i>
                </a>
            </div>
            <div class="input-group-addon">
                <a href="/investigacion/proyectos/" data-toggle="tooltip" data-placement="left" target="_blank"
                   title="Agregar un proyecto nuevo. Cuando no existe en los registros, aquí se puede dar de alta.">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>
    </div>
    </p>
    <p><strong>URL de link al informe:</strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="URL de link al informe, en caso de estar publicado en algún lugar en internet."><i
                class="fa fa-question-circle"></i></a>
    <div class="form-group" style="margin-top: -10px;">
        <div class="input-group date">
            <div class="input-group-addon">
                <i class="fa fa-link"></i>
            </div>
            {{ form.url }}
        </div>
    </div>
    </p>
    <p><strong>Es público: </strong>
        <a href="#" data-toggle="tooltip" data-placement="right"
           title="¿El informe es de acceso público?."><i class="fa fa-question-circle"></i></a>
        {{ form.es_publico }}</p>
    <p><strong>Cita completa del producto: <a href="#" data-toggle="tooltip" data-placement="right"
                               title="Cita completa del producto.">
        <i class="fa fa-question-circle"></i></a></strong>
        {{ form.descripcion }}
    </p>

    <script>
        var id_autores = $("#id_autores");
        var id_status = $("#id_status");

        var d_fecha_enviado = $("#d_fecha_enviado");
        var d_fecha_aceptado = $("#d_fecha_aceptado");
        var d_fecha_enprensa = $("#d_fecha_enprensa");
        var d_fecha_publicado = $("#d_fecha_publicado");
        var id_fecha_enviado = $("#id_fecha_enviado");
        var id_fecha_aceptado = $('#id_fecha_aceptado');
        var id_fecha_enprensa = $('#id_fecha_enprensa');
        var id_fecha_publicado = $('#id_fecha_publicado');

        d_fecha_enviado.hide();
        d_fecha_aceptado.hide();
        d_fecha_enprensa.hide();
        d_fecha_publicado.hide();

        if (id_status.val() === 'ENVIADO') {
            d_fecha_enviado.show();
            id_fecha_enviado.attr("required", "true");
        }
        if (id_status.val() === 'ACEPTADO') {
            d_fecha_aceptado.show();
            id_fecha_aceptado.attr("required", "true");
        }
        if (id_status.val() === 'EN_PRENSA') {
            d_fecha_enprensa.show();
            id_fecha_enprensa.attr("required", "true");
        }
        if (id_status.val() === 'PUBLICADO') {
            d_fecha_publicado.show();
            id_fecha_publicado.attr("required", "true");
        }

        id_status.on('change', function () {
            if (id_status.val() === 'ENVIADO') {
                d_fecha_enviado.show('slow');
                id_fecha_enviado.attr("required", "true");
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            } else if (id_status.val() === 'ACEPTADO') {
                d_fecha_aceptado.show('slow');
                id_fecha_aceptado.attr("required", "true");
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            } else if (id_status.val() === 'EN_PRENSA') {
                d_fecha_enprensa.show('slow');
                id_fecha_enprensa.attr("required", "true");
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            } else if (id_status.val() === 'PUBLICADO') {
                d_fecha_publicado.show('slow');
                id_fecha_publicado.attr("required", "true");
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
            } else {
                d_fecha_enviado.hide('slow');
                id_fecha_enviado.attr("required", null);
                id_fecha_enviado.val(null).trigger('change');
                d_fecha_aceptado.hide('slow');
                id_fecha_aceptado.attr("required", null);
                id_fecha_aceptado.val(null).trigger('change');
                d_fecha_enprensa.hide('slow');
                id_fecha_enprensa.attr("required", null);
                id_fecha_enprensa.val(null).trigger('change');
                d_fecha_publicado.hide('slow');
                id_fecha_publicado.attr("required", null);
                id_fecha_publicado.val(null).trigger('change');
            }
        });


        id_autores.on("select2:select", function (evt) {
            var element = evt.params.data.element;
            var $element = $(element);
            $element.detach();
            $(this).append($element);
            $(this).trigger("change");
        });
    </script>

{% endblock %}